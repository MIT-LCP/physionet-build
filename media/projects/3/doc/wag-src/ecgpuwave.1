.TH ECGPUWAVE 1 "22 November 2002" "ecgpuwave 1.0" "WFDB Applications Guide"
.SH NAME
ecgpuwave \- QRS detector and waveform limit locator
.SH SYNOPSIS
\fBecgpuwave -r\fR \fIrecord\fR \fB-a\fR \fIannotator\fR [ \fIoptions\fR ... ]
.SH DESCRIPTION
\fBecgpuwave\fR analyses an ECG signal from the specified \fIrecord\fR,
detecting the QRS complexes and locating the beginning, peak, and end of the P,
QRS, and ST-T waveforms.  The output of \fBecgpuwave\fR is written as a
standard WFDB-format annotation file associated with the specified
\fIannotator\fR.  This file can be converted into text format using
\fBrdann\fR(1) or viewed using \fBwave\fR(1).
.PP
The QRS detector is based on the algorithm of Pan and Tompkins (reference 1)
with some improvements that make use of slope information (reference 2).
Optionally, QRS annotations can be provided as input (see option \fB-i\fR),
permitting the use of external QRS detectors such as \fBsqrs\fR(1) or
manually-edited annotations (which can be created using \fBwave\fR(1)).
The waveform limit locator is based on the algorithm described in reference 3
and evaluated in references 3 and 4.
.PP
The output annotation file contains PWAVE ("\fBp\fR") and TWAVE ("\fBt\fR")
annotations that indicate the P- and T-wave peaks, as well as
QRS annotations (NORMAL ("\fBN\fR") if generated by the built-in QRS
detector, or copies of the input QRS annotations if these were
supplied).  \fBecgpuwave\fR classifies each T wave as type 0 (normal),
1 (inverted), 2 (positive monophasic), 3 (negative monophasic),
4 (biphasic negative-positive), or 5 (biphasic positive-negative);
this numeric classification is written into the \fBnum\fR field of
each TWAVE annotation. The P, QRS, and T waveform onsets and ends are
marked in the output annotation file using WFON ("\fB(\fR") and WFOFF
("\fB)\fR") annotations.  The \fBnum\fR field of each WFON and WFOFF
annotation designates the type of waveform with which it is associated:
0 for a P wave, 1 for a QRS complex, or 2 for a T wave.
.PP
\fIOptions\fR include:
.TP
\fB-f\fR \fItime\fR
Begin at the specified \fItime\fR (default: the beginning of the record).
.TP
\fB-i\fR \fIinput-annotator\fR
Read QRS locations from the specified \fIinput-annotator\fR (and copy them
to the output annotation file).  Default: run the built-in QRS detector.
.TP 
\fB-n\fR \fIbeat-type\fR
Specify which beats to process (must be used together
with \fB-i\fR): \fIbeat_type\fR may be 0 (default: process all beats)
or 1 (process only beats labelled as NORMAL ("\fBN\fR") by the input
annotator).
.TP
\fB-s\fR \fIn\fR
Analyze signal \fIn\fR (default: signal 0).
.TP
\fB-t\fR \fItime\fR
Stop at the specified \fItime\fR (default: the end of the record).
.SH ENVIRONMENT
.PP
It may be necessary to set and export the shell variable \fBWFDB\fR (see
\fBsetwfdb\fR(1)).
.SH SEE ALSO
\fBrdann\fR(1), \fBsqrs\fR(1), \fBwave\fR(1), \fBwqrs\fR(1)
.SH REFERENCES
.br
1. Pan J and Tompkins WJ.  A Real-Time QRS Detection Algorithm. \fIIEEE
Transactions on Biomedical Engineering\fB 32\fR(3):230-236, 1985. 
.br
2. Laguna P. \fINew Electrocardiographic Signal Processing Techniques:
Application to Long-term Records.\fR Ph. D. dissertation, Science Faculty,
University of Zaragoza, 1990.
.br
3. Laguna P, Jan\['e] R, Caminal P. Automatic Detection of Wave Boundaries in
Multilead ECG Signals: Validation with the CSE Database. \fIComputers and
Biomedical Research \fB 27\fR(1):45-60, 1994.
.br
4. Jan\['e] R, Blasi A, Garc\['i]a J, and Laguna P. Evaluation of an automatic
threshold based detector of waveform limits in Holter ECG with the QT
database. \fIComputers in Cardiology \fB24\fR:295-298 (1997; available at
http://www.physionet.org/physiobank/database/qtdb/eval/ )
.SH AVAILABILITY
\fBecgpuwave\fR is available as part of PhysioToolkit under the GPL (see
\fBSOURCE\fR below).
.SH AUTHORS
Pablo Laguna (laguna@posta.unizar.es), Raimon Jan\['e], Eudald Bogatell,
and David Vigo Anglada
.SH SOURCE
http://www.physionet.org/physiotools/ecgpuwave/src/
