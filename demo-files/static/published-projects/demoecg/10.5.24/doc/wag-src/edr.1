.TH EDR 1 "28 October 2002" "EDR 1.0" "WFDB Applications Guide"
.SH NAME
edr \- derive a respiration signal from an ECG
.SH SYNOPSIS
\fBedr -r\fR \fIrecord\fR \fB-i\fR \fIannotator\fR [ \fIoptions ... \fR ]
.SH DESCRIPTION
\fBedr\fR derives a sample of a respiratory signal for each QRS complex in
the input ECG, by measuring the mean electrical axis (in two-channel mode)
or the projection of that axis onto the lead axis (in single-channel mode).
See the references below for details of the algorithm.
.PP
\fBedr\fR reads the signal and annotation files specified by \fIrecord\fR and
\fIannotator\fR, and writes another annotation file, which is a copy of the
input annotation file except that the \fBnum\fR field of each beat annotation
is replaced by an EDR sample.
.PP
If the beat annotations are not located at the QRS peaks, it will be necessary
to set the window limits (the offsets relative to the annotations between which
the raw measurements for the EDR are taken), using the \fB-d\fR option. By
default, \fBedr\fR behaves as if the option \fB-d -0.04 0.04\fR has been given
(in other words, measurements are taken over an 80 ms window beginning 40 ms
(.04 seconds) before the annotation, and ending 40 ms after the annotation);
this default is reasonable if the QRS annotations have been placed on or near
the QRS peaks or centroids.  If \fBedr\fR is supplied with annotations
generated by \fBsqrs\fR, or another method that places the annotations near the
PQ junction (the beginning of the QRS complex), the option \fB-d 0 0.08\fR is
recommended.
.PP
For ECGs sampled at relatively low rates (e.g., 100-128 Hz, as is common for
many long-term ECG recordings), it may be advantageous to base the EDR on the
T-wave rather than the QRS complex, by choosing a window such as \fB-d -0.08
0.28\fR or \fB-d -0.12 0.32\fR (for annotations placed at the QRS peaks or PQ
junctions respectively), since this permits an axis estimation based on a
larger number of samples.  Note that the use of a negative value for \fIdt1\fR,
as in these examples, allows the beginning of the EDR measurement window to be
placed \fIafter\fR the QRS annotation.
.PP
\fIOptions\fR include:
.TP
\fB-d\fR \fIdt1\fR \fIdt2\fR
Set the EDR measurement window relative to QRS annotations (defaults:
\fIdt1\fR = 0.04 (seconds before annotation), \fIdt2\fR = 0.04 (seconds
after annotation).
.TP
\fB-f\fR \fItime\fR
Begin at the specified \fItime\fR (default: the beginning of the record).
.TP
\fB-h\fR
Print a usage summary.
.TP
\fB-o\fR \fIann\fR
Use \fIann\fR as the output annotator name (default: \fBedr\fR).
.TP
\fB-s\fR \fIsignal-list\fR
Analyze only the signals named in the \fIsignal-list\fR (one or more input
signal numbers, separated by spaces;  default: analyze signals 0 and 1).
If the \fIsignal-list\fR contains more than two signals, only the first
two are analyzed.
.TP
\fB-t\fR \fItime\fR
Stop at the specified \fItime\fR.
.TP
\fB-v\fR
Verbose mode:  print individual measurements.
.SH ENVIRONMENT
.PP
It may be necessary to set and export the shell variable \fBWFDB\fR (see
\fBsetwfdb\fR(1)).
.SS Example
.br
	\fBedr -r 100 -i atr -f 0 -t 5:0\fR
.br
This command creates an annotation file named \fBedr.100\fR, containing a copy
of the reference (\fBatr\fR) annotation file for the first five minutes of
record \fB100\fR, with EDR measurements for each annotated beat in the
\fBnum\fR fields of the output annotation file.
.SH AVAILABILITY
\fBedr\fR is available as part of PhysioToolkit under the GPL (see
\fBSOURCE\fR below).
.SH SEE ALSO
\fBplt(1), \fBrdann\fR(1), \fBsetwfdb\fR(1)
.br
Moody GB, Mark RG, Zoccola A, Mantero S.  Derivation of respiratory signals
from multi-lead ECGs.  \fIComputers in Cardiology\fR \fB12\fR:113-116 (1985;
available at http://www.physionet.org/physiotools/edr/cic85/ )
.br
Moody GB, Mark RG, Bump MA, et al.  Clinical validation of the ECG-derived
respiration (EDR) technique.  \fIComputers in Cardiology\fR \fB13\fR:507-510
(1986; available at http://www.physionet.org/physiotools/edr/cic86/ )
.SH AUTHOR
George B. Moody (george@mit.edu)
.SH SOURCE
http://www.physionet.org/physiotools/edr/edr.c
